@startuml
hide circle
skinparam linetype ortho
skinparam entity {
  BackgroundColor White
  BorderColor Black
}
title "Модель данных приложения на носимом устройстве"

' Сущности

entity "<b>Пациент</b>" as Patient {
  *ИД Пациента : PK
  --
  Токен доступа
  Дата подключения
}

entity "<b>Назначение</b>" as Assignment {
  *ИД Назначения : PK
  --
  Название
  Тип назначения
  Тип измерения
  Дата начала периода
  Дата окончания периода
  Времена выполнения[]
  Поля ввода[]
  Дата создания
}

entity "<b>Результат</b>" as Result {
  *ИД Результата : PK
  --
  ИД Задания : FK
  Дата и время сбора данных
  Значения
  Статус результата : \n(успешно / ошибка)
}


entity "<b>Задание</b>" as Task {
  *ИД Задания : PK
  --
  ИД Назначения : FK
  Дата и время выполнения
  Статус задания: \n(ожидается / выполнено / пропущено)
  Отправка результата : (да/нет)
}


' Связи

Patient ||--o{ Assignment : **выполняет**
Result ||--|| Task : **генерирует**
Assignment ||--o{ Task: **создаёт на каждый день**

@enduml
